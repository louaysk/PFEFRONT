<sb-layout-dashboard>
    <sb-dashboard-head title="Edit User" [hideBreadcrumbs]="true">
    </sb-dashboard-head>

<div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-7">
                <div class="card shadow-lg border-0 rounded-lg mt-5">
                    <div class="card-header"><h3 class="text-center font-weight-light my-4">Edit Account</h3></div>
                    <div class="card-body">
                        <form [formGroup]="service.FormUpdate" autocomplete="off" (submit)="OnUpdate()">
                            <div class="form-row">
                                <div class="col-md-6">
                                    <div class="form-group" required><label class="small mb-1" for="inputUserName">User Name</label><input class="form-control py-4" formControlName="UserName" id="inputUserName" type="text" placeholder="Enter User name" />
                                    <label  class="text-danger" *ngIf="service.FormUpdate.get('UserName').touched && service.FormUpdate.get('UserName').errors?.required">This field is mandatory. </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group"><label class="small mb-1" for="inputPhoneNumber">Phone Number</label><input class="form-control py-4" formControlName="PhoneNumber" id="inputPhoneNumber" type="text" placeholder="Enter Phone Number" /></div>
                                </div>
                            </div>



                            <div class="form-row">
                                <div class="col-md-6">
                                    <div class="form-group" required><label class="small mb-1" for="inputFirstName">First Name</label><input class="form-control py-4" formControlName="FirstName" id="inputFirstName" type="text" placeholder="Enter First name" />

                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group"><label class="small mb-1" for="inputLastName">Last Name</label><input class="form-control py-4" formControlName="lastName" id="inputLastName" type="text" placeholder="Enter Last name" /></div>
                                </div>
                            </div>





                            <div class="form-group"><label class="small mb-1" for="inputEmailAddress">Email</label><input class="form-control py-4" formControlName="Email" id="inputEmailAddress" type="email" aria-describedby="emailHelp" placeholder="Enter email address" />
                                <label  class="text-danger" *ngIf="service.FormUpdate.get('Email').touched && service.FormUpdate.get('Email').errors?.email">Invalid email address </label>

                            </div>
                            <div class="form-group form-inline">

                                    <label class="col-md-6 col-12 justify-content-start" for="inputLastName">Change Role</label>

                                    <div class="inline-buttons col-md-6 col-12">

                                    <button *ngIf="service.FormUpdate.value.Role == 'Admin';else GlobalAdminBloc;" class="btn btn-primary btn-sm"  (click)="changeroletoglobal()" >To global admin </button>
                                    <ng-template #GlobalAdminBloc>
                                        <button  class="btn btn-primary btn-sm" (click)="changeroletoadmin()" style="margin-left: 10px" >To admin</button>
                                    </ng-template>

                                </div>

                            </div>
                            <button  class="btn btn-primary btn-block" [disabled]="!service.FormUpdate.valid">Save Changes</button>
                            <button  class="btn btn-primary btn-block" routerLink="/admin-panel" >Return</button>

                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
</sb-layout-dashboard>
